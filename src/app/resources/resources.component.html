<ion-content hide-header-footer class="main-container avoid-bottom-tabs-space ui-container" (ionScrollEnd)="logScrollEnd($event)"
  scrollEvents="true" #contentView>
  <div slot="fixed" class="fixed-container">
    <sb-library-filters [list]="categoryMediumNamesArray" [selectedItems]="mediumsSelected"
      [layout]="mediumFilterLayout" (selectedFilter)="mediumClickEvent($event, true)">
    </sb-library-filters>
    <sb-library-filters [list]="categoryGradeLevelsArray" [selectedItems]="classSelected" [layout]="classFilterLayout"
      (selectedFilter)="classClickEvent($event, true);">
    </sb-library-filters>
  </div>
  <div class="scrollable-container">
    <ion-refresher #libraryRefresher slot="fixed" (ionRefresh)="swipeDownToRefresh($event)"></ion-refresher>
    <div *ngIf="!guestUser" style="padding-top: 5px;">
      <ng-container *ngIf="searchApiLoader && dynamicResponse && dynamicResponse.length === 0">
        <sb-course-cards-hlist [type]="courseCardType.MY_COURSE_RECENTLY_VIEWED_CARD_GRID" [isLoading]="searchApiLoader">
        </sb-course-cards-hlist>
      </ng-container>
    </div>
<!-- In Progress Courses -->
<div *ngIf="enrolledCourseList?.length">
<h3 class="enrolled-section-title">In Progress</h3>
<div class="enrolled-course-grid">
<ng-container *ngFor="let course of enrolledCourseList; trackBy: trackByCourseId">
<ion-card *ngIf="course.progress === 0"
                  class="enrolled-full-width-card"
                  (click)="openEnrolledCourse(course)">
 
          <!-- Card Top -->
<div class="enrolled-course-card-header">
<div class="enrolled-course-label">COURSE</div>
 
            <!-- Left side background + logo -->
<div class="enrolled-course-left">
<img [src]="course.courseLogoUrl || defaultAppIcon"
                   alt="course logo"
                   class="enrolled-course-logo" />
</div>
 
            <!-- Right side content -->
<div class="enrolled-course-info">
<h2 class="enrolled-course-title">{{ course.courseName }}</h2>
<p class="enrolled-course-id">{{ course.contentId }}</p>
</div>
</div>
 
          <ion-card-content>
<p>{{ course.description }}</p>
</ion-card-content>
</ion-card>
</ng-container>
</div>
</div>
 
  <!-- Completed Courses -->
<div *ngIf="enrolledCourseList?.length">
<h3 class="enrolled-section-title">Completed</h3>
<div class="enrolled-course-grid">
<ng-container *ngFor="let course of enrolledCourseList; trackBy: trackByCourseId">
<ion-card *ngIf="course.progress === 1"
                  class="enrolled-full-width-card"
                  (click)="openEnrolledCourse(course)">
 
          <!-- Card Top -->
<div class="enrolled-course-card-header">
<div class="enrolled-course-label">COURSE</div>
 
            <!-- Left side background + logo -->
<div class="enrolled-course-left">
<img [src]="course.courseLogoUrl || defaultAppIcon"
                   alt="course logo"
                   class="enrolled-course-logo" />
</div>
 
            <!-- Right side content -->
<div class="enrolled-course-info">
<h2 class="enrolled-course-title">{{ course.courseName }}</h2>
<p class="enrolled-course-id">{{ course.contentId }}</p>
</div>
</div>
 
          <ion-card-content>
<p>{{ course.description }}</p>
 
            <!-- Certificates -->
<div *ngIf="course.issuedCertificates?.length">
<h4>Certificates:</h4>
<div *ngFor="let cert of course.issuedCertificates">
<a [href]="cert.templateUrl" target="_blank">{{ cert.name }}</a>
</div>
</div>
</ion-card-content>
</ion-card>
</ng-container>
</div>
</div>
    <div class="ion-padding ion-text-center mt-32 mb-32" style="padding-top: 34px;"
      *ngIf="!commonUtilService?.networkInfo?.isNetworkAvailable">
      <img src="assets/imgs/outline-cloud_off.svg" alt="" />
      <ion-text>
        <h6 class="offline-header">
          <strong>{{ 'NO_INTERNET_TITLE' | translate }}</strong>
        </h6>
      </ion-text>
      <p class="offline-content">{{ 'OFFLINE_WARNING_ETBUI' | translate }}</p>
    </div>
  </div>

</ion-content>